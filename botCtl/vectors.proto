syntax = "proto3";

package vectors;

// ------------------------------------------------------------------
// 1) Top‑level container
// ------------------------------------------------------------------
message Container {
  // Number of elements in each sub‑list – these are just informational
  // (they are also implicit because repeated fields know their length).
  uint32 intent_count = 1;
  uint32 vector_count = 2;

  // 2) List of (string, fixed‑length‑plus‑int32) pairs
  repeated Pair intents = 3;

  // 3) List of int16 vectors (each vector has the same length N)
  repeated Int16Vector vectors = 4;
}

// ------------------------------------------------------------------
// 2) Pair = (string, fixed‑length‑plus‑int32)
// ------------------------------------------------------------------
message Pair {
  // Protobuf strings are variable‑length, but you can enforce a maximum
  // length in your application logic (e.g. 32 bytes).  The field is stored
  // as UTF‑8 bytes.
  // like 63b6a1f6d9d1941218c5c7c4  => 24 bytes  
  string id = 1;

  // The accompanying 32‑bit integer.
  int32 occurance = 2;
}

// ------------------------------------------------------------------
// 3) Int16Vector = a fixed‑size vector of int16 values
// ------------------------------------------------------------------
message Int16Vector {
  // Repeated int32 is used because protobuf does not have a native int16
  // type.  Values are expected to be in the range [-32768, 32767].
  // The length of the vector (N) is the same for every Int16Vector in a
  // given Container – you can validate that in your code.
  repeated int32 vector = 1;
}

